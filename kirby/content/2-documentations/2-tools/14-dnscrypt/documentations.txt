Title: DNSCrypt

----

Text:

# DNSCrypt

http://dnscrypt.org/



sudo apt-get install gcc g++ make automake libtool





 wget http://download.libsodium.org/libsodium/releases/libsodium-0.4.tar.gz

tar -xvf libsodium-0.4.tar.gz

cd libsodium-0.4/

./configure && make && make check && sudo make install





wget http://download.dnscrypt.org/dnscrypt-proxy/dnscrypt-proxy-1.3.1.tar.gz

tar -xvf dnscrypt-proxy-1.3.1.tar.gz

cd dnscrypt-proxy-1.3.1

./configure && make && sudo make install





cd /etc/init.d

sudo touch dnscrypt

sudo chmod +x dnscrypt

sudo emacs -nw dnscrypt

#! /bin/sh

### BEGIN INIT INFO
# Provides:          dnsCrypt
# Required-Start:     $remote_fs $syslog
# Required-Stop:     $remote_fs $syslog
# Default-Start:     2 3 4 5
# Default-Stop:          1
# Short-Description:     SEcure DNS ssl proxy, initscript made by Dju
### END INIT INFO

DC_BIN=/usr/local/sbin/dnscrypt-proxy
DC_NAME=$(basename $DC_BIN)
DC_CONF=/etc/default/dnscrypt
DC_IP=127.0.0.1
DC_PORT=52
DC_ARGS="--daemonize"


if [ -f $DC_CONF ]; then . $DC_CONF; fi

dc_start()
{
  $DC_BIN --local-address=$DC_IP:$DC_PORT $DC_ARGS --log-file="/var/log/dnscrypt"
}

dc_stop()
{
  killall $DC_NAME
}

dc_status()
{
  pid=$(pidof $(basename $DC_BIN))
  if [ -z "$pid" ]; then
    echo "$DC_NAME is not running"
  else
    echo "$DC_NAME is running with pid $pid"
  fi
}

case "$1" in
 start)
  echo -n "starting $DC_NAME ..."
  dc_start
  echo OK
  ;;
 stop)
  echo -n "Stopping $DC_NAME ..."
  dc_stop
  echo OK
  ;;
 status)
  dc_status
  ;;
 *)
  echo "Usage: /etc/init.d/dnscrypt {start|stop|status}"
  exit 1
  ;;
esac

#test
dig @127.0.0.1 -p52 free.fr a



# run auto
sudo update-rc.d -f dnscrypt defaults


sudo emacs -nw /etc/bind/named.conf.options

forwarders { 127.0.0.1 port 52; };

sudo service bind9 restart

sudo emacs -nw /etc/resolv.conf

nameserver 127.0.0.1

reboot

http://www.opendns.com/welcome


http://blog.crifo.org/post/2011/12/16/Securisez-vos-connexions-DNS-avec-DNScrypt
http://askubuntu.com/questions/105366/how-to-check-if-dns-is-encrypted
